---
keywords: fastai
description: Hacks for 2.4a and 2.4b
title: Unit 2.4 Hacks
toc: true
categories: []
type: ap
week: 26
nb_path: _notebooks/2023-03-17- 2.4 Hacks copy.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2023-03-17- 2.4 Hacks copy.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Procedural-abstraction?">Procedural abstraction?<a class="anchor-link" href="#Procedural-abstraction?"> </a></h3><ul>
<li>There is lots of procedural abstraction in both 2.4a and 2.4b</li>
<li>Everywhere where a procedure is named is an example of procedural abstraction. Naming helps keep things clean and easy and can be re-used later</li>
<li>The same procedure being used or called more than once is also an example of procedural abstraction and this happens multiple times. </li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span>


<span class="k">def</span> <span class="nf">create_connection</span><span class="p">(</span><span class="n">db_file</span><span class="p">):</span>

    <span class="n">conn</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_file</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">conn</span>
    <span class="k">except</span> <span class="n">Error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">conn</span>


<span class="k">def</span> <span class="nf">create_table</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">create_table_sql</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">create_table_sql</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">Error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">database</span> <span class="o">=</span> <span class="s1">&#39;instance/movies.db&#39;</span>

    <span class="n">movies_table</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS movies ( </span>
<span class="s2">                                        _id integer PRIMARY KEY,</span>
<span class="s2">                                        _movie text,</span>
<span class="s2">                                        _director text,</span>
<span class="s2">                                        _length text,</span>
<span class="s2">                                        _year integer</span>
<span class="s2">                                    ); &quot;&quot;&quot;</span>  <span class="c1"># not null makes coloum not accpet null values</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">create_connection</span><span class="p">(</span><span class="n">database</span><span class="p">)</span>

    <span class="c1"># create table</span>
    <span class="n">create_table</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">movies_table</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">read</span><span class="p">():</span>

    <span class="n">database</span> <span class="o">=</span> <span class="s1">&#39;instance/movies.db&#39;</span>
    <span class="c1"># Connect to the database file</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">database</span><span class="p">)</span>

    <span class="c1"># Create a cursor object to execute SQL queries</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="c1"># Execute a SELECT statement to retrieve data from a table</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM movies&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="c1"># Print the results</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;empty&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

    <span class="c1"># Close objects</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="n">read</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(2, &#39;2009 A Space Odyssey&#39;, &#39;Stanley Kubrick&#39;, &#39;2 h&#39;, 1968)
(3, &#39;The Godfather&#39;, &#39;Francis Capolla&#39;, &#39;2h 55m&#39;, 1972)
(4, &#39;The Dark Knight&#39;, &#39;Christopher Nolan&#39;, &#39; 2h 32m&#39;, 2008)
(5, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;2h 19m&#39;, 1999)
(7, &#39;The Godfather&#39;, &#39;Francis Capolla&#39;, &#39;2h 55m&#39;, 1972)
(8, &#39;The Dark Knight&#39;, &#39;Christopher Nolan&#39;, &#39; 2h 32m&#39;, 2008)
(9, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;2h 19m&#39;, 1999)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">create</span><span class="p">():</span>
    <span class="n">database</span> <span class="o">=</span> <span class="s1">&#39;instance/movies.db&#39;</span>
    <span class="n">movie</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter movie name:&quot;</span><span class="p">)</span>
    <span class="n">director</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter director:&quot;</span><span class="p">)</span>
    <span class="n">length</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter length&quot;</span><span class="p">)</span>
    <span class="n">year</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter year&quot;</span><span class="p">)</span>

    <span class="c1"># Connect to the database file</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">database</span><span class="p">)</span>

    <span class="c1"># execute SQL commands</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># insert data into a table</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO movies (_movie, _director, _length, _year) VALUES (?, ?, ?, ?)&quot;</span><span class="p">,</span>
                       <span class="p">(</span><span class="n">movie</span><span class="p">,</span> <span class="n">director</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">year</span><span class="p">))</span>
        <span class="c1"># Commit the changes </span>
        <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;A new movie record </span><span class="si">{</span><span class="n">movie</span><span class="si">}</span><span class="s2"> has been created&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error with inserting&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>

    <span class="c1"># Close the cursor and connection objects</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="n">create</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>A new movie record ? has been created
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span>
<span class="c1"># adding movies to the table</span>


<span class="k">def</span> <span class="nf">add</span><span class="p">():</span>
    <span class="n">database</span> <span class="o">=</span> <span class="s1">&#39;instance/movies.db&#39;</span>
    <span class="c1"># Connect to  db file</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">database</span><span class="p">)</span>

    <span class="c1"># execute SQL commands</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># insert data into a table</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO movies (_movie, _director, _length, _year) VALUES (?, ?, ?, ?)&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;The Godfather&#39;</span><span class="p">,</span> <span class="s1">&#39;Francis Capolla&#39;</span><span class="p">,</span> <span class="s1">&#39;2h 55m&#39;</span><span class="p">,</span> <span class="mi">1972</span><span class="p">))</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO movies (_movie, _director, _length, _year) VALUES (?, ?, ?, ?)&quot;</span><span class="p">,(</span><span class="s1">&#39;The Dark Knight&#39;</span><span class="p">,</span> <span class="s1">&#39;Christopher Nolan&#39;</span><span class="p">,</span> <span class="s1">&#39; 2h 32m&#39;</span><span class="p">,</span> <span class="mi">2008</span><span class="p">))</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO movies (_movie, _director, _length, _year) VALUES (?, ?, ?, ?)&quot;</span><span class="p">,(</span><span class="s1">&#39;Fight Club&#39;</span><span class="p">,</span> <span class="s1">&#39;David FIncher&#39;</span><span class="p">,</span>  <span class="s1">&#39;2h 19m&#39;</span><span class="p">,</span> <span class="mi">1999</span><span class="p">))</span>
        <span class="c1"># Commit the changes</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="k">except</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>

    <span class="c1"># Close objects</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="n">add</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">read</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(2, &#39;2009 A Space Odyssey&#39;, &#39;Stanley Kubrick&#39;, &#39;2 h&#39;, 1968)
(3, &#39;The Godfather&#39;, &#39;Francis Capolla&#39;, &#39;2h 55m&#39;, 1972)
(4, &#39;The Dark Knight&#39;, &#39;Christopher Nolan&#39;, &#39; 2h 32m&#39;, 2008)
(5, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;2h 19m&#39;, 1999)
(7, &#39;The Godfather&#39;, &#39;Francis Capolla&#39;, &#39;2h 55m&#39;, 1972)
(8, &#39;The Dark Knight&#39;, &#39;Christopher Nolan&#39;, &#39; 2h 32m&#39;, 2008)
(9, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;2h 19m&#39;, 1999)
(10, &#39;?&#39;, &#39;?&#39;, &#39;?&#39;, &#39;?&#39;)
(11, &#39;The Godfather&#39;, &#39;Francis Capolla&#39;, &#39;2h 55m&#39;, 1972)
(12, &#39;The Dark Knight&#39;, &#39;Christopher Nolan&#39;, &#39; 2h 32m&#39;, 2008)
(13, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;2h 19m&#39;, 1999)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="k">def</span> <span class="nf">delete</span><span class="p">():</span>
    
    <span class="n">database</span> <span class="o">=</span> <span class="s1">&#39;instance/movies.db&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter movie id to delete&quot;</span><span class="p">)</span>

    <span class="c1"># Connect to the database file</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">database</span><span class="p">)</span>

    <span class="c1"># Create a cursor object to execute SQL commands</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;DELETE FROM movies WHERE _id = ?&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nb">id</span><span class="p">,))</span>
        <span class="k">if</span> <span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># The uid was not found in the table</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No uid </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2"> was not found in the table&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># The uid was found in the table and the row was deleted</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The row with uid </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2"> has been deleted&quot;</span><span class="p">)</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error in DELETE:&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
        
    <span class="c1"># Close the cursor and connection objects</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;----Original Table:----&quot;</span><span class="p">)</span>
<span class="n">read</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">delete</span><span class="p">()</span>
<span class="n">read</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>----Original Table:----
(2, &#39;2009 A Space Odyssey&#39;, &#39;Stanley Kubrick&#39;, &#39;2 h&#39;, 1968)
(3, &#39;The Godfather&#39;, &#39;Francis Capolla&#39;, &#39;2h 55m&#39;, 1972)
(4, &#39;The Dark Knight&#39;, &#39;Christopher Nolan&#39;, &#39; 2h 32m&#39;, 2008)
(5, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;2h 19m&#39;, 1999)
(13, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;2h 19m&#39;, 1999)

The row with uid 13 has been deleted
(2, &#39;2009 A Space Odyssey&#39;, &#39;Stanley Kubrick&#39;, &#39;2 h&#39;, 1968)
(3, &#39;The Godfather&#39;, &#39;Francis Capolla&#39;, &#39;2h 55m&#39;, 1972)
(4, &#39;The Dark Knight&#39;, &#39;Christopher Nolan&#39;, &#39; 2h 32m&#39;, 2008)
(5, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;2h 19m&#39;, 1999)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>  
    
    <span class="n">database</span> <span class="o">=</span> <span class="s1">&#39;instance/movies.db&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a movie id to update movies runtime&quot;</span><span class="p">)</span>
    <span class="n">runtime</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter updated runtime status&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">runtime</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> 
        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;changed&quot;</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># Connect to the database file</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">database</span><span class="p">)</span>

    <span class="c1"># Create a cursor object to execute SQL commands</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Execute an SQL command to update data in a table</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;UPDATE movies SET _length = ? WHERE _id = ?&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">runtime</span><span class="p">,</span> <span class="nb">id</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">cursor</span><span class="o">.</span><span class="n">rowcount</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># The uid was not found in the table</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No id </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2"> was not found in the table&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Movie </span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2"> received an updated runtime: </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error in UPDATE:&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
        
    
    <span class="c1"># Close the cursor and connection objects</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----Original Databse:----&#39;</span><span class="p">)</span>
<span class="n">read</span><span class="p">()</span>   
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----Updated Databse:----&#39;</span><span class="p">)</span>
<span class="n">update</span><span class="p">()</span>
<span class="n">read</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>----Original Databse:----
(2, &#39;2009 A Space Odyssey&#39;, &#39;Stanley Kubrick&#39;, &#39;2 h&#39;, 1968)
(3, &#39;The Godfather&#39;, &#39;Francis Capolla&#39;, &#39;2h 55m&#39;, 1972)
(4, &#39;The Dark Knight&#39;, &#39;Christopher Nolan&#39;, &#39; 2h 32m&#39;, 2008)
(5, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;2h 19m&#39;, 1999)

----Updated Databse:----
Movie 5 received an updated runtime: 
(2, &#39;2009 A Space Odyssey&#39;, &#39;Stanley Kubrick&#39;, &#39;2 h&#39;, 1968)
(3, &#39;The Godfather&#39;, &#39;Francis Capolla&#39;, &#39;2h 55m&#39;, 1972)
(4, &#39;The Dark Knight&#39;, &#39;Christopher Nolan&#39;, &#39; 2h 32m&#39;, 2008)
(5, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;100&#39;, 1999)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">menu</span><span class="p">():</span>
    <span class="n">operation</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter: (C)reate (R)ead (U)pdate or (D)elete&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">operation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span>
        <span class="n">create</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">operation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span>
        <span class="n">read</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">operation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;u&#39;</span><span class="p">:</span>
        <span class="n">update</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">operation</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span>
        <span class="n">delete</span><span class="p">()</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span> <span class="c1"># Escape Key</span>
        <span class="k">return</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please enter c, r, u, d&quot;</span><span class="p">)</span> 
    <span class="n">menu</span><span class="p">()</span> <span class="c1"># recursion (repeats)</span>
        
<span class="k">try</span><span class="p">:</span>
    <span class="n">menu</span><span class="p">()</span> <span class="c1"># start menu</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Perform Jupyter &#39;Run All&#39; prior to starting menu&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(2, &#39;2009 A Space Odyssey&#39;, &#39;Stanley Kubrick&#39;, &#39;2 h&#39;, 1968)
(3, &#39;The Godfather&#39;, &#39;Francis Capolla&#39;, &#39;2h 55m&#39;, 1972)
(4, &#39;The Dark Knight&#39;, &#39;Christopher Nolan&#39;, &#39; 2h 32m&#39;, 2008)
(5, &#39;Fight Club&#39;, &#39;David FIncher&#39;, &#39;100&#39;, 1999)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

